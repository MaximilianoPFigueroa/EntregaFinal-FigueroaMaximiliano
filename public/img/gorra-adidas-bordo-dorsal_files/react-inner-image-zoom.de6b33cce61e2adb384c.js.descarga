(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[174],{fAHZ:function(e,t,n){"use strict";n.r(t),n.d(t,"InnerImageZoom",(function(){return m}));var r=n("FdF9");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=function(e){var t=e.src,n=e.sources,i=e.width,o=e.height,u=e.hasSpacer,c=e.imgAttributes,s=e.isZoomed,l=e.fadeDuration,d=i&&o&&u;return r.default.createElement("div",{style:{paddingTop:d?o/i*100+"%":null}},n&&n.length>0?r.default.createElement("picture",null,n.map((function(e,t){return r.default.createElement(r.Fragment,{key:t},e.srcSet&&r.default.createElement("source",e))})),r.default.createElement("img",a({},c,{className:"iiz__img "+(c.className||"")+" "+(s?"iiz__img--hidden":"")+" "+(d?"iiz__img--abs":""),style:{transition:"opacity 0ms linear "+(s?l:0)+"ms, visibility 0ms linear "+(s?l:0)+"ms"},src:t,width:i,height:o}))):r.default.createElement("img",a({},c,{className:"iiz__img "+(c.className||"")+" "+(s?"iiz__img--hidden":"")+" "+(d?"iiz__img--abs":""),style:{transition:"opacity 0ms linear "+(s?l:0)+"ms, visibility 0ms linear "+(s?l:0)+"ms"},src:t,width:i,height:o})))};i.propTypes={};var o=i,u=function(e){var t=e.src,n=e.fadeDuration,a=e.top,i=e.left,o=e.isZoomed,u=e.onLoad,c=e.onDragStart,s=e.onDragEnd,l=e.onClose,d=e.onFadeOut;return r.default.createElement(r.Fragment,null,r.default.createElement("img",{className:"iiz__zoom-img "+(o?"iiz__zoom-img--visible":""),style:{top:a,left:i,transition:"opacity "+n+"ms linear, visibility "+n+"ms linear"},src:t,onLoad:u,onTouchStart:c,onTouchEnd:s,onMouseDown:c,onMouseUp:s,onTransitionEnd:d,draggable:"false",alt:""}),l&&r.default.createElement("button",{className:"iiz__btn iiz__close "+(o?"iiz__close--visible":""),style:{transition:"opacity "+n+"ms linear, visibility "+n+"ms linear"},onClick:l,"aria-label":"Zoom Out"}))};u.propTypes={};var c=u,s=n("17x9"),l=function(e){var t=e.children,n=Object(r.useState)((function(){var e=document.createElement("div");return e.classList.add("iiz__zoom-portal"),e}))[0];return Object(r.useEffect)((function(){return document.body.appendChild(n),function(){return document.body.removeChild(n)}}),[n]),Object(r.createPortal)(t,n)};l.propTypes={children:n.n(s).a.element};var d=l,f=function(e){var t=e.moveType,n=void 0===t?"pan":t,a=e.zoomType,i=void 0===a?"click":a,u=e.src,s=e.sources,l=e.width,f=e.height,m=e.hasSpacer,g=e.imgAttributes,h=void 0===g?{}:g,p=e.zoomSrc,b=e.zoomScale,v=void 0===b?1:b,w=e.zoomPreload,y=e.fadeDuration,_=void 0===y?150:y,O=e.fullscreenOnMobile,E=e.mobileBreakpoint,z=void 0===E?640:E,j=e.hideCloseButton,S=e.hideHint,M=e.className,T=e.afterZoomIn,x=e.afterZoomOut,D=Object(r.useRef)(null),X=Object(r.useRef)(null),Y=Object(r.useRef)({}),C=Object(r.useState)(w),L=C[0],k=C[1],N=Object(r.useState)(!1),P=N[0],Z=N[1],F=Object(r.useState)(!1),A=F[0],H=F[1],R=Object(r.useState)(!1),B=R[0],I=R[1],W=Object(r.useState)(!1),J=W[0],U=W[1],q=Object(r.useState)(!1),G=q[0],K=q[1],Q=Object(r.useState)(!1),V=Q[0],$=Q[1],ee=Object(r.useState)(n),te=ee[0],ne=ee[1],re=Object(r.useState)(0),ae=re[0],ie=re[1],oe=Object(r.useState)(0),ue=oe[0],ce=oe[1],se=function(e){A?P?j&&ge(e):!G&&be():(P&&k(!0),X.current?(le({target:X.current}),pe(e.pageX,e.pageY)):Y.current.onLoadCallback=pe.bind(undefined,e.pageX,e.pageY))},le=function(e){var t=Ee(e.target,v);X.current=e.target,X.current.setAttribute("width",t.width),X.current.setAttribute("height",t.height),Y.current.scaledDimensions=t,Y.current.bounds=we(D.current,!1),Y.current.ratios=_e(Y.current.bounds,t),Y.current.onLoadCallback&&(Y.current.onLoadCallback(),Y.current.onLoadCallback=null)},de=function(e){var t=e.pageX-Y.current.offsets.x,n=e.pageY-Y.current.offsets.y;t=Math.max(Math.min(t,Y.current.bounds.width),0),n=Math.max(Math.min(n,Y.current.bounds.height),0),ie(t*-Y.current.ratios.x),ce(n*-Y.current.ratios.y)},fe=Object(r.useCallback)((function(e){e.stopPropagation();var t="number"===typeof e.pageX?e.pageX:e.changedTouches[0].pageX,n="number"===typeof e.pageY?e.pageY:e.changedTouches[0].pageY,r=t-Y.current.offsets.x,a=n-Y.current.offsets.y;r=Math.max(Math.min(r,0),-1*(Y.current.scaledDimensions.width-Y.current.bounds.width)),a=Math.max(Math.min(a,0),-1*(Y.current.scaledDimensions.height-Y.current.bounds.height)),ie(r),ce(a)}),[]),me=function(e){if(U(!1),!P){var t=Math.abs(e.pageX-Y.current.eventPosition.x),n=Math.abs(e.pageY-Y.current.eventPosition.y);K(t>5||n>5)}},ge=function(e){!P&&e.target.classList.contains("iiz__close")||(A&&!B&&_?$(!0):he({},!0)),be()},he=function(e,t){(t||"opacity"===e.propertyName&&D.current.contains(e.target))&&((w&&P||!w)&&(X.current=null,Y.current=ve(),k(!1)),Z(!1),I(!1),ne(n),$(!1))},pe=function(e,t){H(!0),"drag"===te?function(e,t){var n=(e-(window.pageXOffset+Y.current.bounds.left))*-Y.current.ratios.x,r=(t-(window.pageYOffset+Y.current.bounds.top))*-Y.current.ratios.y;n+=B?(window.innerWidth-Y.current.bounds.width)/2:0,r+=B?(window.innerHeight-Y.current.bounds.height)/2:0,Y.current.bounds=we(D.current,B),Y.current.offsets=ye(0,0,0,0),fe({changedTouches:[{pageX:n,pageY:r}],preventDefault:function(){},stopPropagation:function(){}})}(e,t):function(e,t){Y.current.offsets=ye(window.pageXOffset,window.pageYOffset,-Y.current.bounds.left,-Y.current.bounds.top),de({pageX:e,pageY:t})}(e,t),T&&T()},be=function(){H(!1),x&&x()},ve=function(){return{onLoadCallback:null,bounds:{},offsets:{},ratios:{},eventPosition:{},scaledDimensions:{}}},we=function(e,t){return t?{width:window.innerWidth,height:window.innerHeight,left:0,top:0}:e.getBoundingClientRect()},ye=function(e,t,n,r){return{x:e-n,y:t-r}},_e=function(e,t){return{x:(t.width-e.width)/e.width,y:(t.height-e.height)/e.height}},Oe=function(e,t){return e&&window.matchMedia&&window.matchMedia("(max-width: "+t+"px)").matches},Ee=function(e,t){return{width:e.naturalWidth*t,height:e.naturalHeight*t}},ze={src:p||u,fadeDuration:B?0:_,top:ue,left:ae,isZoomed:A,onLoad:le,onDragStart:"drag"===te?function(e){var t="number"===typeof e.pageX?e.pageX:e.changedTouches[0].pageX,n="number"===typeof e.pageY?e.pageY:e.changedTouches[0].pageY;Y.current.offsets=ye(t,n,X.current.offsetLeft,X.current.offsetTop),U(!0),P||(Y.current.eventPosition={x:e.pageX,y:e.pageY})}:null,onDragEnd:"drag"===te?me:null,onClose:j||"drag"!==te?null:ge,onFadeOut:V?he:null};return Object(r.useEffect)((function(){Y.current=ve()}),[]),Object(r.useEffect)((function(){Oe(O,z)&&k(!1)}),[O,z]),Object(r.useEffect)((function(){if(X.current){var e=P?"touchmove":"mousemove";J?X.current.addEventListener(e,fe,{passive:!0}):X.current.removeEventListener(e,fe)}}),[J,P,fe]),r.default.createElement("figure",{className:"iiz "+("drag"===te?"iiz--drag":"")+" "+(M||""),style:{width:l},ref:D,onTouchStart:A?null:function(){Z(!0),I(Oe(O,z)),ne("drag")},onClick:se,onMouseEnter:P?null:function(e){k(!0),$(!1),"hover"===i&&!A&&se(e)},onMouseMove:"drag"!==te&&A?de:null,onMouseLeave:P?null:function(e){"drag"===te&&A?me(e):ge(e)}},r.default.createElement(o,{src:u,sources:s,width:l,height:f,hasSpacer:m,imgAttributes:h,fadeDuration:_,isZoomed:A}),L&&r.default.createElement(r.Fragment,null,B?r.default.createElement(d,null,r.default.createElement(c,ze)):r.default.createElement(c,ze)),!S&&!A&&r.default.createElement("span",{className:"iiz__btn iiz__hint"}))};f.propTypes={};var m=f;t.default=m}}]);
//# sourceMappingURL=react-inner-image-zoom.de6b33cce61e2adb384c.js.map